<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Masajes con Nury — Reserva online</title>
  <meta name="description" content="Masajes con Nury: masajes profesionales con reserva online por disponibilidad. Servicios, galería y contacto." />

  <style>
    :root{
      --navy:#070A18;
      --navy2:#0B1024;
      --white:#F6F7FF;
      --muted: rgba(246,247,255,.74);
      --muted2: rgba(246,247,255,.52);
      --stroke: rgba(255,255,255,.12);
      --stroke2: rgba(255,255,255,.18);
      --violet:#7C3AED;
      --violet2:#A78BFA;
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --r: 22px;
      --r2: 28px;
      --max: 1120px;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--white);
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(124,58,237,.18), transparent 60%),
        radial-gradient(900px 600px at 85% 20%, rgba(167,139,250,.14), transparent 60%),
        radial-gradient(700px 500px at 80% 90%, rgba(124,58,237,.10), transparent 62%),
        var(--navy);
      overflow-x:hidden;
    }

    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:var(--max); margin:0 auto; padding:0 18px;}
    main{padding-top:110px; padding-bottom:40px;}

    /* Buttons */
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:12px 16px; border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.05);
      color: var(--white);
      font-weight:900; font-size:14px;
      cursor:pointer;
      transition:.2s transform, .2s opacity, .2s border, .2s background;
      user-select:none;
    }
    .btn:hover{transform:translateY(-1px); border-color: rgba(255,255,255,.26); background: rgba(255,255,255,.07);}
    .btn.primary{
      border:0;
      color: #0A0C16;
      background: linear-gradient(90deg, var(--violet), var(--violet2));
      box-shadow: 0 16px 40px rgba(124,58,237,.22);
    }
    .btn.primary:hover{opacity:.95}

    /* NAV pill */
    .nav-wrap{position:fixed; left:0; right:0; top:16px; z-index:50;}
    .nav{
      max-width: calc(var(--max) + 12px);
      margin:0 auto;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(7,10,24,.72);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius:999px;
      white-space:nowrap;
    }
    .logo{
      width:30px;height:30px;border-radius:12px;
      background: linear-gradient(135deg, var(--violet), var(--violet2));
    }
    .brand b{font-size:14px; letter-spacing:-.02em}
    .brand small{display:block; color:var(--muted); font-weight:800; font-size:11px; margin-top:1px}

    .nav-links{display:flex; gap:4px; align-items:center;}
    .nav-links a{
      padding:10px 12px;
      border-radius:999px;
      color: var(--muted);
      font-weight:900;
      font-size:13px;
      transition:.2s background, .2s color, .2s border;
      border:1px solid transparent;
    }
    .nav-links a:hover{color:var(--white); background: rgba(255,255,255,.05);}
    .nav-links a.active{
      color:var(--white);
      background: rgba(124,58,237,.18);
      border-color: rgba(167,139,250,.20);
    }
    .nav-cta{display:flex; gap:8px; align-items:center;}
    .burger{display:none}

    @media (max-width: 980px){
      .nav-links{display:none}
      .nav-cta .btn:not(.burger){display:none}
      .burger{display:inline-flex}
    }

    /* Mobile menu sheet */
    .sheet{
      position:fixed; inset:0;
      display:none;
      background: rgba(0,0,0,.55);
      z-index:60;
    }
    .sheet.show{display:block}
    .sheet-card{
      position:absolute; right:16px; top:76px;
      width:min(360px, calc(100% - 32px));
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(7,10,24,.90);
      backdrop-filter: blur(16px);
      padding:10px;
      box-shadow: var(--shadow);
    }
    .sheet-card a{
      display:block;
      padding:12px 12px;
      border-radius: 16px;
      color: var(--muted);
      font-weight:900;
      border:1px solid transparent;
    }
    .sheet-card a:hover{color: var(--white); background: rgba(255,255,255,.06); border-color: rgba(255,255,255,.10);}
    .sheet-card a.active{color: var(--white); background: rgba(124,58,237,.18); border-color: rgba(167,139,250,.20);}

    /* --- HERO like reference --- */
    .hero-wrap{padding: 8px 0 26px;}
    .hero-card{
      border-radius: var(--r2);
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    /* subtle big background text like the reference */
    .hero-bg-text{
      position:absolute;
      inset:-40px -20px auto -20px;
      font-weight:1000;
      letter-spacing:.10em;
      font-size: clamp(44px, 6vw, 86px);
      color: rgba(246,247,255,.06);
      pointer-events:none;
      user-select:none;
      text-transform:uppercase;
    }
    .hero-inner{
      padding: 22px;
      min-height: 520px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap: 20px;
    }

    /* hero top bar inside card */
    .hero-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .mini-pill{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-weight:900;
      font-size:12px;
      backdrop-filter: blur(10px);
    }
    .mini-dot{
      width:8px;height:8px;border-radius:999px;
      background: linear-gradient(90deg, var(--violet), var(--violet2));
      box-shadow: 0 0 18px rgba(167,139,250,.35);
    }

    /* hero content centered like image */
    .hero-center{
      text-align:center;
      max-width: 820px;
      margin: 0 auto;
      padding: 10px 0 4px;
    }
    .hero-title{
      margin: 0 0 10px;
      letter-spacing:-.04em;
      line-height:1.00;
      font-size: clamp(34px, 5vw, 62px);
      font-weight:1000;
      text-transform:uppercase;
    }
    .hero-title .accent{
      color: transparent;
      background: linear-gradient(90deg, var(--violet), var(--violet2));
      -webkit-background-clip:text;
      background-clip:text;
      font-weight:1000;
      text-transform:none;
    }
    .hero-sub{
      margin: 0 auto 18px;
      color: var(--muted);
      font-weight:800;
      line-height:1.6;
      max-width: 62ch;
      font-size: 15px;
    }
    .hero-actions{display:flex; gap:10px; justify-content:center; flex-wrap:wrap;}
    .scroll-hint{
      color: rgba(246,247,255,.60);
      font-weight:900;
      font-size:12px;
      text-align:center;
      padding-bottom: 8px;
    }

    /* bottom illustration area like reference */
    .hero-illustration{
      height: 180px;
      border-top:1px solid rgba(255,255,255,.10);
      background:
        radial-gradient(600px 220px at 50% 40%, rgba(124,58,237,.16), transparent 62%),
        linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
      display:flex;
      align-items:flex-end;
      justify-content:center;
      padding: 0 18px 14px;
    }
    .illu-row{
      display:flex;
      gap:10px;
      align-items:flex-end;
      justify-content:center;
      width:100%;
      max-width: 900px;
      opacity:.95;
    }
    .blob{
      width: 68px;
      height: 84px;
      border-radius: 999px 999px 22px 22px;
      background: rgba(246,247,255,.14);
      filter: blur(.0px);
      border:1px solid rgba(255,255,255,.10);
    }
    .blob.v{background: rgba(124,58,237,.26)}
    .blob.s{height:64px; width:60px; opacity:.8}
    .blob.m{height:78px; width:66px; opacity:.9}
    .blob.l{height:92px; width:74px;}

    @media (max-width: 520px){
      .hero-inner{min-height: 520px; padding:18px}
      .hero-illustration{height: 160px}
      .blob{width:54px}
      .blob.l{width:62px}
    }

    /* Sections */
    section.block{padding: 24px 0;}
    .section-head{
      display:flex; align-items:flex-end; justify-content:space-between; gap:14px; flex-wrap:wrap;
      margin: 10px 0 16px;
    }
    .section-head h2{
      margin:0;
      letter-spacing:-.03em;
      font-size: clamp(20px, 3vw, 28px);
    }
    .section-head p{
      margin:0;
      color: var(--muted);
      font-weight:800;
      line-height:1.6;
      max-width: 64ch;
    }

    .grid-3{display:grid; grid-template-columns: repeat(3, 1fr); gap:12px;}
    @media (max-width: 980px){ .grid-3{grid-template-columns:1fr} }

    .card{
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      padding:16px;
      box-shadow: 0 18px 50px rgba(0,0,0,.18);
    }
    .card h3{margin:0 0 8px; font-size:16px; letter-spacing:-.02em}
    .card p{margin:0; color: var(--muted); font-weight:800; font-size:13px; line-height:1.5}
    .price{
      display:inline-flex;
      margin-top:12px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(124,58,237,.14);
      color: var(--white);
      font-weight:1000;
      font-size:12px;
    }

    /* Booking form */
    .form{
      border-radius: var(--r2);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      padding:16px;
      box-shadow: var(--shadow);
    }
    .form-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 760px){ .form-grid{grid-template-columns:1fr} }
    .field label{
      display:block;
      font-weight:900;
      font-size:13px;
      margin: 6px 0 8px;
      color: var(--muted);
    }
    input, select, textarea{
      width:100%;
      padding:12px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(7,10,24,.55);
      color: var(--white);
      outline:none;
      font-weight:900;
      transition: .2s border, .2s background;
    }
    input:focus, select:focus, textarea:focus{
      border-color: rgba(167,139,250,.40);
      background: rgba(7,10,24,.70);
    }
    textarea{min-height: 110px; resize:vertical}
    .help{color: var(--muted2); font-weight:900; font-size:12px; margin-top:8px}
    .error{color:#FCA5A5; font-weight:1000; font-size:12px; margin-top:10px}
    .success{
      display:none;
      margin-top:12px;
      padding:12px;
      border-radius:18px;
      border:1px solid rgba(45,212,191,.35);
      background: rgba(45,212,191,.10);
      color: rgba(240,253,250,.95);
      font-weight:1000;
    }
    .success.show{display:block}

    /* Slots */
    .slots{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
      margin-top:12px;
    }
    @media (max-width: 760px){ .slots{grid-template-columns: 1fr 1fr} }
    .slot{
      padding:12px 10px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      font-weight:1000;
      color: var(--muted);
      cursor:pointer;
      text-align:center;
      transition:.2s transform, .2s background, .2s border, .2s color;
    }
    .slot:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      color: var(--white);
    }
    .slot.selected{
      border-color: rgba(167,139,250,.38);
      background: rgba(124,58,237,.18);
      color: var(--white);
    }
    .slot[disabled]{opacity:.35; cursor:not-allowed; transform:none !important;}

    /* Gallery placeholders */
    .gallery{
      display:grid;
      grid-template-columns: 1.2fr .8fr .8fr;
      gap:12px;
    }
    @media (max-width: 980px){ .gallery{grid-template-columns:1fr} }
    .ph{
      border-radius:16px;
      border:1px dashed rgba(255,255,255,.18);
      background: rgba(255,255,255,.02);
      min-height: 220px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:14px;
      color: var(--muted);
      font-weight:900;
      font-size:12px;
    }
    .ph.small{min-height: 160px;}

    /* Footer */
    footer{
      border-top:1px solid rgba(255,255,255,.10);
      margin-top:24px;
      padding-top:16px;
      color: var(--muted2);
      font-weight:900;
      font-size:12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    footer a{color: rgba(167,139,250,.95)}
    footer a:hover{text-decoration:underline}
  </style>
</head>

<body>
  <!-- NAV -->
  <div class="nav-wrap">
    <div class="nav">
      <a class="brand" href="#top" data-scroll="top">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <b>Masajes con Nury</b>
          <small>Bienestar · Profesional</small>
        </div>
      </a>

      <div class="nav-links">
        <a href="#servicios" data-scroll="servicios">Servicios</a>
        <a href="#reservar" data-scroll="reservar">Reservar</a>
        <a href="#galeria" data-scroll="galeria">Galería</a>
        <a href="#contacto" data-scroll="contacto">Contacto</a>
      </div>

      <div class="nav-cta">
        <a class="btn" href="#contacto" data-scroll="contacto">WhatsApp</a>
        <a class="btn primary" href="#reservar" data-scroll="reservar">Reservar ahora →</a>
        <button class="btn burger" data-burger aria-label="Abrir menú">☰</button>
      </div>
    </div>
  </div>

  <!-- Mobile menu -->
  <div class="sheet" data-sheet>
    <div class="sheet-card">
      <a href="#servicios" data-scroll="servicios">Servicios</a>
      <a href="#reservar" data-scroll="reservar">Reservar</a>
      <a href="#galeria" data-scroll="galeria">Galería</a>
      <a href="#contacto" data-scroll="contacto">Contacto</a>
      <div style="padding:10px;">
        <a class="btn primary" style="width:100%;" href="#reservar" data-scroll="reservar">Reservar ahora</a>
      </div>
    </div>
  </div>

  <main class="container" id="top">

    <!-- HERO (simple, como la foto) -->
    <section class="hero-wrap">
      <div class="hero-card">
        <div class="hero-bg-text">MASAJES PROFESIONALES</div>

        <div class="hero-inner">
          <div class="hero-top">
            <span class="mini-pill"><span class="mini-dot"></span> Reserva online · disponibilidad real</span>
            <a class="btn primary" href="#reservar" data-scroll="reservar">Reservar →</a>
          </div>

          <div class="hero-center">
            <h1 class="hero-title">
              BIENESTAR REAL
              <span class="accent">con Nury</span>
            </h1>
            <p class="hero-sub">
              Masajes relajantes y terapéuticos en un entorno minimalista.
              Elige tu servicio, fecha y horario disponible en segundos.
            </p>
            <div class="hero-actions">
              <a class="btn primary" href="#reservar" data-scroll="reservar">Reservar mi sesión →</a>
              <a class="btn" href="#servicios" data-scroll="servicios">Ver servicios</a>
            </div>
          </div>

          <div class="scroll-hint">scroll to see more</div>

          <div class="hero-illustration" aria-hidden="true">
            <div class="illu-row">
              <div class="blob s"></div>
              <div class="blob m v"></div>
              <div class="blob l"></div>
              <div class="blob m"></div>
              <div class="blob s v"></div>
              <div class="blob m"></div>
              <div class="blob l v"></div>
              <div class="blob s"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SERVICIOS -->
    <section class="block" id="servicios">
      <div class="section-head">
        <h2>Servicios</h2>
        <p>Duración y precio claros. Elige y reserva abajo con disponibilidad.</p>
      </div>

      <div class="grid-3">
        <div class="card">
          <h3>Relajante</h3>
          <p>Suave y profundo para bajar estrés y mejorar descanso.</p>
          <span class="price">60 min · 50€</span>
        </div>
        <div class="card">
          <h3>Descontracturante</h3>
          <p>Enfoque muscular para espalda, cuello y piernas.</p>
          <span class="price">75 min · 65€</span>
        </div>
        <div class="card">
          <h3>Deportivo</h3>
          <p>Preparación y recuperación para actividad física.</p>
          <span class="price">90 min · 80€</span>
        </div>
        <div class="card">
          <h3>Piedras calientes</h3>
          <p>Calor terapéutico + aromaterapia para soltar tensión.</p>
          <span class="price">75 min · 75€</span>
        </div>
        <div class="card">
          <h3>Facial</h3>
          <p>Drenaje y masaje suave para rostro y tensión mandibular.</p>
          <span class="price">45 min · 45€</span>
        </div>
        <div class="card">
          <h3>Prenatal</h3>
          <p>Adaptado para embarazo (según caso) y bienestar general.</p>
          <span class="price">60 min · 55€</span>
        </div>
      </div>
    </section>

    <!-- RESERVAR -->
    <section class="block" id="reservar">
      <div class="section-head">
        <h2>Reservar</h2>
        <p>Selecciona servicio y fecha para ver horarios disponibles (demo funcional en el navegador).</p>
      </div>

      <div class="form">
        <form id="booking-form">
          <div class="form-grid">
            <div class="field">
              <label>Nombre *</label>
              <input name="name" placeholder="Tu nombre" required>
            </div>

            <div class="field">
              <label>Email *</label>
              <input name="email" type="email" placeholder="tu@email.com" required>
            </div>

            <div class="field">
              <label>Teléfono *</label>
              <input name="phone" placeholder="+34 600 000 000" required>
            </div>

            <div class="field">
              <label>Servicio *</label>
              <select name="service" required>
                <option value="">Selecciona…</option>
                <option value="relajante">Relajante (60 min) — 50€</option>
                <option value="descontracturante">Descontracturante (75 min) — 65€</option>
                <option value="deportivo">Deportivo (90 min) — 80€</option>
                <option value="piedras">Piedras (75 min) — 75€</option>
                <option value="facial">Facial (45 min) — 45€</option>
                <option value="prenatal">Prenatal (60 min) — 55€</option>
              </select>
            </div>

            <div class="field">
              <label>Fecha *</label>
              <input name="date" type="date" required>
            </div>

            <div class="field">
              <label>Horario *</label>
              <input name="time" placeholder="Selecciona un horario abajo" readonly required>
              <div class="help" id="service-info">Selecciona servicio y fecha para ver disponibilidad.</div>
            </div>

            <div class="field" style="grid-column:1/-1;">
              <label>Notas (opcional)</label>
              <textarea name="notes" placeholder="Zonas a tratar, preferencias, lesiones, etc."></textarea>
            </div>
          </div>

          <div style="margin-top:14px;">
            <div class="mini-pill"><span class="mini-dot"></span> Horarios disponibles</div>
            <div class="slots" id="slots"></div>
          </div>

          <div class="error" id="form-error"></div>

          <div style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap;">
            <button class="btn primary" type="submit">Confirmar reserva →</button>
            <a class="btn" href="#servicios" data-scroll="servicios">Ver servicios</a>
          </div>

          <div class="help" style="margin-top:10px;">
            * Demo: las reservas se guardan en tu navegador (localStorage). Para producción se conecta a Google Calendar / email.
          </div>

          <div class="success" id="success">
            ✅ Reserva guardada. Te contactaremos para confirmar detalles.
          </div>
        </form>
      </div>
    </section>

    <!-- GALERÍA -->
    <section class="block" id="galeria">
      <div class="section-head">
        <h2>Galería</h2>
        <p>Espacios listos para fotos y/o videos del ambiente y el servicio.</p>
      </div>

      <div class="gallery">
        <div class="ph">VIDEO PRINCIPAL<br><span style="color:rgba(246,247,255,.50)">(mp4 / YouTube)</span></div>
        <div class="ph small">FOTO 1</div>
        <div class="ph small">FOTO 2</div>
        <div class="ph small">FOTO 3</div>
        <div class="ph small">FOTO 4</div>
        <div class="ph small">FOTO 5</div>
      </div>
    </section>

    <!-- CONTACTO -->
    <section class="block" id="contacto">
      <div class="section-head">
        <h2>Contacto</h2>
        <p>Edita con los datos reales. El botón de WhatsApp puede apuntar al número real.</p>
      </div>

      <div class="grid-3">
        <div class="card">
          <h3>Ubicación</h3>
          <p>Calle Ejemplo 123, Barcelona<br><span style="color:rgba(246,247,255,.55)">Cámbialo por la dirección real</span></p>
        </div>
        <div class="card">
          <h3>Horario</h3>
          <p>Lun–Sáb 09:00–19:00<br><span style="color:rgba(246,247,255,.55)">Solo con cita previa</span></p>
        </div>
        <div class="card">
          <h3>WhatsApp</h3>
          <p>+34 600 000 000<br><span style="color:rgba(246,247,255,.55)">Cambia por el número real</span></p>
          <div style="margin-top:12px;">
            <a class="btn primary" href="https://wa.me/34600000000" target="_blank" rel="noreferrer">Abrir WhatsApp →</a>
          </div>
        </div>
      </div>

      <footer>
        <div>© 2026 Masajes con Nury</div>
        <div><a href="#reservar" data-scroll="reservar">Reservar</a> · <a href="#servicios" data-scroll="servicios">Servicios</a></div>
      </footer>
    </section>

  </main>

  <script>
    // ===== Mobile menu =====
    const sheet = document.querySelector('[data-sheet]');
    document.addEventListener('click', (e) => {
      if (e.target.closest('[data-burger]')) sheet.classList.add('show');
      if (e.target === sheet) sheet.classList.remove('show');
      if (e.target.closest('[data-scroll]')) sheet.classList.remove('show');
    });

    // ===== Smooth scroll + active nav =====
    const navLinks = document.querySelectorAll('[data-scroll]');
    navLinks.forEach(a=>{
      a.addEventListener('click', (e)=>{
        e.preventDefault();
        const id = a.getAttribute('data-scroll');
        const target = document.getElementById(id) || document.getElementById('top');
        if(target) target.scrollIntoView({behavior:'smooth', block:'start'});
      });
    });

    const sections = ['servicios','reservar','galeria','contacto'];
    function setActive(sectionId){
      document.querySelectorAll('.nav-links a').forEach(a=>{
        a.classList.toggle('active', a.getAttribute('data-scroll') === sectionId);
      });
      document.querySelectorAll('.sheet-card a').forEach(a=>{
        a.classList.toggle('active', a.getAttribute('data-scroll') === sectionId);
      });
    }
    function onScroll(){
      const y = window.scrollY + 140;
      let current = '';
      for(const id of sections){
        const el = document.getElementById(id);
        if(!el) continue;
        const top = el.offsetTop;
        const bottom = top + el.offsetHeight;
        if(y >= top && y < bottom){ current = id; break; }
      }
      setActive(current);
    }
    window.addEventListener('scroll', onScroll);
    onScroll();

    // ===== Booking availability (demo) =====
    const form = document.getElementById('booking-form');
    const slotsWrap = document.getElementById('slots');
    const timeInput = form.querySelector('[name="time"]');
    const dateEl = form.querySelector('[name="date"]');
    const serviceEl = form.querySelector('[name="service"]');
    const info = document.getElementById('service-info');
    const err = document.getElementById('form-error');
    const success = document.getElementById('success');

    const services = {
      relajante: { name:"Relajante", duration:60, price:"50€" },
      descontracturante: { name:"Descontracturante", duration:75, price:"65€" },
      deportivo: { name:"Deportivo", duration:90, price:"80€" },
      piedras: { name:"Piedras", duration:75, price:"75€" },
      facial: { name:"Facial", duration:45, price:"45€" },
      prenatal: { name:"Prenatal", duration:60, price:"55€" },
    };

    function getBookings(){
      try { return JSON.parse(localStorage.getItem('nury_bookings') || '[]'); }
      catch { return []; }
    }
    function saveBooking(b){
      const all = getBookings();
      all.push(b);
      localStorage.setItem('nury_bookings', JSON.stringify(all));
    }

    // min date = hoy
    const t = new Date();
    const y = t.getFullYear();
    const m = String(t.getMonth()+1).padStart(2,'0');
    const d = String(t.getDate()).padStart(2,'0');
    dateEl.min = `${y}-${m}-${d}`;

    const OPEN = 9;   // 09:00
    const CLOSE = 19; // 19:00
    const STEP = 30;  // cada 30 min

    const toMinutes = (h,m) => h*60+m;
    const fmt = (min) => {
      const h = Math.floor(min/60);
      const mm = min%60;
      return `${String(h).padStart(2,'0')}:${String(mm).padStart(2,'0')}`;
    };

    function buildSlots(){
      slotsWrap.innerHTML = '';
      timeInput.value = '';
      err.textContent = '';
      success.classList.remove('show');

      const date = dateEl.value;
      const key = serviceEl.value;
      if(!date || !key){
        info.textContent = 'Selecciona servicio y fecha para ver disponibilidad.';
        return;
      }

      const svc = services[key];
      info.innerHTML = `${svc.name} · ${svc.duration} min · <b>${svc.price}</b>`;

      const bookedTimes = getBookings().filter(b=>b.date===date).map(b=>b.time);
      const start = toMinutes(OPEN,0);
      const end = toMinutes(CLOSE,0);
      const lastStart = end - svc.duration;

      for(let t=start; t<=lastStart; t+=STEP){
        const label = fmt(t);
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'slot';
        btn.textContent = label;

        if(bookedTimes.includes(label)){
          btn.disabled = true;
        } else {
          btn.addEventListener('click', ()=>{
            document.querySelectorAll('.slot.selected').forEach(x=>x.classList.remove('selected'));
            btn.classList.add('selected');
            timeInput.value = label;
          });
        }
        slotsWrap.appendChild(btn);
      }
    }

    dateEl.addEventListener('change', buildSlots);
    serviceEl.addEventListener('change', buildSlots);

    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      err.textContent = '';
      success.classList.remove('show');

      const data = Object.fromEntries(new FormData(form).entries());
      if(!data.name || !data.email || !data.phone || !data.service || !data.date || !data.time){
        err.textContent = 'Completa todos los campos obligatorios y selecciona un horario.';
        return;
      }

      const already = getBookings().some(b => b.date===data.date && b.time===data.time);
      if(already){
        err.textContent = 'Ese horario ya no está disponible. Elige otro.';
        buildSlots();
        return;
      }

      const svc = services[data.service];
      saveBooking({
        id: (crypto?.randomUUID ? crypto.randomUUID() : String(Date.now())),
        createdAt: new Date().toISOString(),
        name: data.name,
        email: data.email,
        phone: data.phone,
        service: svc.name,
        duration: svc.duration,
        price: svc.price,
        date: data.date,
        time: data.time,
        notes: data.notes || ''
      });

      form.reset();
      timeInput.value = '';
      slotsWrap.innerHTML = '';
      info.textContent = 'Selecciona servicio y fecha para ver disponibilidad.';
      success.classList.add('show');
    });
  </script>
</body>
</html>
